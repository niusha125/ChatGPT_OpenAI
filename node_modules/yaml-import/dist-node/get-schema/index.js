"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getSchema;

var _jsYaml = _interopRequireDefault(require("js-yaml"));

var _read = _interopRequireDefault(require("../read"));

var _fetch = _interopRequireDefault(require("./fetch"));

var _merge = _interopRequireDefault(require("./merge"));

var _createTree = _interopRequireDefault(require("./create-tree"));

var _validatePayload = _interopRequireDefault(require("./validate-payload"));

var _absolute = _interopRequireDefault(require("./absolute"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSchema(cwd, options, schemas = [_jsYaml.default.DEFAULT_SAFE_SCHEMA]) {
  const opts = Object.assign({
    ext: ['.yml', '.yaml']
  }, options);
  const types = [new _jsYaml.default.Type('tag:yaml.org,2002:import/single', {
    kind: 'scalar',

    resolve(file) {
      return typeof file === 'string';
    },

    construct(file) {
      return (0, _read.default)((0, _absolute.default)({
        file,
        cwd
      }), opts, schemas);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/sequence', {
    kind: 'sequence',

    resolve(files) {
      return Array.isArray(files) && files.length > 0;
    },

    construct(files) {
      const payload = {
        paths: files,
        strategy: 'sequence'
      };
      return (0, _merge.default)((0, _fetch.default)(payload, cwd, opts, schemas), payload.strategy);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/shallow', {
    kind: 'sequence',

    resolve(files) {
      return Array.isArray(files) && files.length > 0;
    },

    construct(files) {
      const payload = {
        paths: files,
        strategy: 'shallow'
      };
      return (0, _merge.default)((0, _fetch.default)(payload, cwd, opts, schemas), payload.strategy);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/merge', {
    kind: 'sequence',

    resolve(files) {
      return Array.isArray(files) && files.length > 0;
    },

    construct(files) {
      const payload = {
        paths: files,
        strategy: 'merge'
      };
      return (0, _merge.default)((0, _fetch.default)(payload, cwd, opts, schemas), payload.strategy);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/deep', {
    kind: 'sequence',

    resolve(files) {
      return Array.isArray(files) && files.length > 0;
    },

    construct(files) {
      const payload = {
        paths: files,
        strategy: 'deep'
      };
      return (0, _merge.default)((0, _fetch.default)(payload, cwd, opts, schemas), payload.strategy);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/payload', {
    kind: 'mapping',

    resolve(payload) {
      return (0, _validatePayload.default)(payload);
    },

    construct(payload) {
      return (0, _merge.default)((0, _fetch.default)(payload, cwd, opts, schemas), payload.strategy);
    }

  }), new _jsYaml.default.Type('tag:yaml.org,2002:import/tree', {
    kind: 'mapping',

    resolve(payload) {
      return (0, _validatePayload.default)(payload);
    },

    construct(payload) {
      const paths = Array.isArray(payload.paths) ? payload.paths : [payload.paths];
      const data = paths.map(path => (0, _createTree.default)(path, cwd, opts, schemas, payload.recursive)).concat(payload.data || []);
      return (0, _merge.default)(data, payload.strategy);
    }

  })];

  const schema = _jsYaml.default.Schema.create(schemas, types);

  return schema;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nZXQtc2NoZW1hL2luZGV4LnRzIl0sIm5hbWVzIjpbImdldFNjaGVtYSIsImN3ZCIsIm9wdGlvbnMiLCJzY2hlbWFzIiwieWFtbCIsIkRFRkFVTFRfU0FGRV9TQ0hFTUEiLCJvcHRzIiwiT2JqZWN0IiwiYXNzaWduIiwiZXh0IiwidHlwZXMiLCJUeXBlIiwia2luZCIsInJlc29sdmUiLCJmaWxlIiwiY29uc3RydWN0IiwiZmlsZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJwYXlsb2FkIiwicGF0aHMiLCJzdHJhdGVneSIsImRhdGEiLCJtYXAiLCJwYXRoIiwicmVjdXJzaXZlIiwiY29uY2F0Iiwic2NoZW1hIiwiU2NoZW1hIiwiY3JlYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxTQUFULENBQ2JDLEdBRGEsRUFFYkMsT0FGYSxFQUdiQyxPQUFzQixHQUFHLENBQUNDLGdCQUFLQyxtQkFBTixDQUhaLEVBSUE7QUFDYixRQUFNQyxJQUFJLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQUVDLElBQUFBLEdBQUcsRUFBRSxDQUFDLE1BQUQsRUFBUyxPQUFUO0FBQVAsR0FBZCxFQUEwQ1AsT0FBMUMsQ0FBYjtBQUVBLFFBQU1RLEtBQUssR0FBRyxDQUNaLElBQUlOLGdCQUFLTyxJQUFULENBQWMsaUNBQWQsRUFBaUQ7QUFDL0NDLElBQUFBLElBQUksRUFBRSxRQUR5Qzs7QUFFL0NDLElBQUFBLE9BQU8sQ0FBQ0MsSUFBRCxFQUFPO0FBQ1osYUFBTyxPQUFPQSxJQUFQLEtBQWdCLFFBQXZCO0FBQ0QsS0FKOEM7O0FBSy9DQyxJQUFBQSxTQUFTLENBQUNELElBQUQsRUFBTztBQUNkLGFBQU8sbUJBQUssdUJBQVM7QUFBRUEsUUFBQUEsSUFBRjtBQUFRYixRQUFBQTtBQUFSLE9BQVQsQ0FBTCxFQUE4QkssSUFBOUIsRUFBb0NI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QUFuQixFQUE0Qk8sS0FBNUIsQ0FBZjs7QUFDQSxTQUFPa0IsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHlhbWwgZnJvbSAnanMteWFtbCc7XG5pbXBvcnQgeyBJT3B0aW9ucywgSVBheWxvYWQgfSBmcm9tICd+L3R5cGVzJztcbmltcG9ydCByZWFkIGZyb20gJ34vcmVhZCc7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnLi9mZXRjaCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi9tZXJnZSc7XG5pbXBvcnQgY3JlYXRlVHJlZSBmcm9tICcuL2NyZWF0ZS10cmVlJztcbmltcG9ydCB2YWxpZGF0ZVBheWxvYWQgZnJvbSAnLi92YWxpZGF0ZS1wYXlsb2FkJztcbmltcG9ydCBhYnNvbHV0ZSBmcm9tICcuL2Fic29sdXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2NoZW1hKFxuICBjd2Q6IHN0cmluZyxcbiAgb3B0aW9ucz86IElPcHRpb25zIHwgbnVsbCxcbiAgc2NoZW1hczogeWFtbC5TY2hlbWFbXSA9IFt5YW1sLkRFRkFVTFRfU0FGRV9TQ0hFTUFdXG4pOiB5YW1sLlNjaGVtYSB7XG4gIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgZXh0OiBbJy55bWwnLCAnLnlhbWwnXSB9LCBvcHRpb25zKTtcblxuICBjb25zdCB0eXBlcyA9IFtcbiAgICBuZXcgeWFtbC5UeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjppbXBvcnQvc2luZ2xlJywge1xuICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICByZXNvbHZlKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJztcbiAgICAgIH0sXG4gICAgICBjb25zdHJ1Y3QoZmlsZSkge1xuICAgICAgICByZXR1cm4gcmVhZChhYnNvbHV0ZSh7IGZpbGUsIGN3ZCB9KSwgb3B0cywgc2NoZW1hcyk7XG4gICAgICB9XG4gICAgfSksXG4gICAgbmV3IHlhbWwuVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6aW1wb3J0L3NlcXVlbmNlJywge1xuICAgICAga2luZDogJ3NlcXVlbmNlJyxcbiAgICAgIHJlc29sdmUoZmlsZXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZmlsZXMpICYmIGZpbGVzLmxlbmd0aCA+IDA7XG4gICAgICB9LFxuICAgICAgY29uc3RydWN0KGZpbGVzKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQ6IElQYXlsb2FkID0geyBwYXRoczogZmlsZXMsIHN0cmF0ZWd5OiAnc2VxdWVuY2UnIH07XG4gICAgICAgIHJldHVybiBtZXJnZShmZXRjaChwYXlsb2FkLCBjd2QsIG9wdHMsIHNjaGVtYXMpLCBwYXlsb2FkLnN0cmF0ZWd5KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBuZXcgeWFtbC5UeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjppbXBvcnQvc2hhbGxvdycsIHtcbiAgICAgIGtpbmQ6ICdzZXF1ZW5jZScsXG4gICAgICByZXNvbHZlKGZpbGVzKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGZpbGVzKSAmJiBmaWxlcy5sZW5ndGggPiAwO1xuICAgICAgfSxcbiAgICAgIGNvbnN0cnVjdChmaWxlcykge1xuICAgICAgICBjb25zdCBwYXlsb2FkOiBJUGF5bG9hZCA9IHsgcGF0aHM6IGZpbGVzLCBzdHJhdGVneTogJ3NoYWxsb3cnIH07XG4gICAgICAgIHJldHVybiBtZXJnZShmZXRjaChwYXlsb2FkLCBjd2QsIG9wdHMsIHNjaGVtYXMpLCBwYXlsb2FkLnN0cmF0ZWd5KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBuZXcgeWFtbC5UeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjppbXBvcnQvbWVyZ2UnLCB7XG4gICAgICBraW5kOiAnc2VxdWVuY2UnLFxuICAgICAgcmVzb2x2ZShmaWxlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShmaWxlcykgJiYgZmlsZXMubGVuZ3RoID4gMDtcbiAgICAgIH0sXG4gICAgICBjb25zdHJ1Y3QoZmlsZXMpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZDogSVBheWxvYWQgPSB7IHBhdGhzOiBmaWxlcywgc3RyYXRlZ3k6ICdtZXJnZScgfTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGZldGNoKHBheWxvYWQsIGN3ZCwgb3B0cywgc2NoZW1hcyksIHBheWxvYWQuc3RyYXRlZ3kpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIG5ldyB5YW1sLlR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmltcG9ydC9kZWVwJywge1xuICAgICAga2luZDogJ3NlcXVlbmNlJyxcbiAgICAgIHJlc29sdmUoZmlsZXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZmlsZXMpICYmIGZpbGVzLmxlbmd0aCA+IDA7XG4gICAgICB9LFxuICAgICAgY29uc3RydWN0KGZpbGVzKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQ6IElQYXlsb2FkID0geyBwYXRoczogZmlsZXMsIHN0cmF0ZWd5OiAnZGVlcCcgfTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGZldGNoKHBheWxvYWQsIGN3ZCwgb3B0cywgc2NoZW1hcyksIHBheWxvYWQuc3RyYXRlZ3kpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIG5ldyB5YW1sLlR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmltcG9ydC9wYXlsb2FkJywge1xuICAgICAga2luZDogJ21hcHBpbmcnLFxuICAgICAgcmVzb2x2ZShwYXlsb2FkOiBJUGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVQYXlsb2FkKHBheWxvYWQpO1xuICAgICAgfSxcbiAgICAgIGNvbnN0cnVjdChwYXlsb2FkOiBJUGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gbWVyZ2UoZmV0Y2gocGF5bG9hZCwgY3dkLCBvcHRzLCBzY2hlbWFzKSwgcGF5bG9hZC5zdHJhdGVneSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgbmV3IHlhbWwuVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6aW1wb3J0L3RyZWUnLCB7XG4gICAgICBraW5kOiAnbWFwcGluZycsXG4gICAgICByZXNvbHZlKHBheWxvYWQ6IElQYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZVBheWxvYWQocGF5bG9hZCk7XG4gICAgICB9LFxuICAgICAgY29uc3RydWN0KHBheWxvYWQ6IElQYXlsb2FkKSB7XG4gICAgICAgIGNvbnN0IHBhdGhzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLnBhdGhzKVxuICAgICAgICAgID8gcGF5bG9hZC5wYXRoc1xuICAgICAgICAgIDogW3BheWxvYWQucGF0aHNdO1xuICAgICAgICBjb25zdCBkYXRhID0gcGF0aHNcbiAgICAgICAgICAubWFwKChwYXRoKSA9PlxuICAgICAgICAgICAgY3JlYXRlVHJlZShwYXRoLCBjd2QsIG9wdHMsIHNjaGVtYXMsIHBheWxvYWQucmVjdXJzaXZlKVxuICAgICAgICAgIClcbiAgICAgICAgICAuY29uY2F0KHBheWxvYWQuZGF0YSB8fCBbXSk7XG4gICAgICAgIHJldHVybiBtZXJnZShkYXRhLCBwYXlsb2FkLnN0cmF0ZWd5KTtcbiAgICAgIH1cbiAgICB9KVxuICBdO1xuICBjb25zdCBzY2hlbWEgPSB5YW1sLlNjaGVtYS5jcmVhdGUoc2NoZW1hcywgdHlwZXMpO1xuICByZXR1cm4gc2NoZW1hO1xufVxuIl19